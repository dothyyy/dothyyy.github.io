<!DOCTYPE html>
<html lang="en">
<head>
    <title>Favorites</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-rbsA2VBKQhggwzxH7pPCaAqO46MgnOM80zW1RWuH61DGLwZJEdK2Kadq2F9CUG65" crossorigin="anonymous">
    <link rel="stylesheet" href="assets\css\index.css">
    <link rel="stylesheet" href="assets\css\store.css">
    <link rel="stylesheet" href="assets\css\favorite.css">
    <script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.11.6/dist/umd/popper.min.js" integrity="sha384-oBqDVmMz9ATKxIep9tiCxS/Z9fNfEXiDAYTujMAeBAsjFuCZSmKbSSUnQlmh/jp3" crossorigin="anonymous"></script>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/js/bootstrap.min.js" integrity="sha384-cuYeSxntonz0PPNlHhBs68uyIAVpIIOZZ5JqeqvYYIcEL727kskC66kF92t6Xl2V" crossorigin="anonymous"></script>
<script src="assets/data.js"></script>
</head>

<body>
  <nav class="navbar navbar-expand-lg">
    <div class="container-fluid">
      <a class="navbar-brand" href="index.html">by.petite</a>
      <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarSupportedContent" aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
        <span class="navbar-toggler-icon"></span>
      </button>

      <div class="collapse navbar-collapse justify-content-end" id="navbarSupportedContent">
        <ul class="navbar-nav">

          <li class="nav-item">
            <a class="nav-link active" aria-current="page" href="index.html" id="nav-item">HOME</a>
          </li>

          <li class="nav-item dropdown">
            <a class="nav-link dropdown-toggle" href="#" href="#" role="button" data-bs-toggle="dropdown" aria-expanded="false">
              CATEGORY
            </a>
            <ul class="dropdown-menu" aria-labelledby="dropdownMenuButton">
              <li class="dropdown dropstart">
                <a class="dropdown-toggle dropdown-item" href="store.html?gender=boys">BOYS</a>
                <ul class="dropdown-menu sub-menu">
                  <li><a class="dropdown-item" href="store.html?gender=boys&type=top">TOP</a></li>
                  <li><hr class="dropdown-divider"></li>
                  <li><a class="dropdown-item" href="store.html?gender=boys&type=bottom">BOTTOM</a></li>
                  <li><hr class="dropdown-divider"></li>
                  <li><a class="dropdown-item" href="store.html?gender=boys&type=set">SETS</a></li>
                </ul>
              </li>
              <li>
                <hr class="dropdown-divider">
              </li>
              <li class="dropdown dropstart">
                <a class="dropdown-toggle dropdown-item" href="store.html?gender=girls">GIRLS</a>
                <ul class="dropdown-menu sub-menu">
                  <li><a class="dropdown-item" href="store.html?gender=girls&type=top">TOP</a></li>
                  <li><hr class="dropdown-divider"></li>
                  <li><a class="dropdown-item" href="store.html?gender=girls&type=bottom">BOTTOM</a></li>
                  <li><hr class="dropdown-divider"></li>
                  <li><a class="dropdown-item" href="store.html?gender=girls&type=set">SETS</a></li>
                </ul>
              </li>
            </ul>
          </li>
          <li class="nav-item dropdown">
            <a class="nav-link dropdown-toggle" href="" role="button" data-bs-toggle="dropdown" aria-expanded="false" id="nav-item" >
              MORE
            </a>
            <ul class="dropdown-menu">
              <li><a class="dropdown-item" href="favorite.html">FAVORITES</a></li>
              <li><hr class="dropdown-divider"></li>
              <li><a class="dropdown-item" href="aboutus.html">ABOUT US</a></li>
              <li><hr class="dropdown-divider"></li>
              <li><a class="dropdown-item" href="contactus.html">CONTACT US</a></li>
            </ul>
          </li>
        </ul>
      </div>
    </div>
  </nav>

    <div class="content">     
      <div class="subtitle">My Likes</div>
      <div class="filter-box">
        <div class="dropdown">
        <a class="nav-link dropdown-toggle filter" href="#" href="#" role="button" data-bs-toggle="dropdown" aria-expanded="false">
          FILTER BY
        </a>
        
        <ul class="dropdown-menu filter" aria-labelledby="dropdownMenuButton">
          <li class="dropdown">
            <a class="dropdown-toggle dropdown-item" href="favorite.html?gender=boys">BOYS</a>
          <ul class="dropdown-menu sub-menu">
            <li><a class="dropdown-item" href="favorite.html?gender=boys&type=top">TOP</a></li>
            <li><hr class="dropdown-divider"></li>
            <li><a class="dropdown-item" href="favorite.html?gender=boys&type=bottom">BOTTOM</a></li>
            <li><hr class="dropdown-divider"></li>
            <li><a class="dropdown-item" href="favorite.html?gender=boys&type=set">SETS</a></li>
          </ul>
          </li>
          <li>
            <hr class="dropdown-divider">
          </li>
          <li class="dropdown">
            <a class="dropdown-toggle dropdown-item" href="favorite.html?gender=girl">GIRLS</a>
          <ul class="dropdown-menu sub-menu">
            <li><a class="dropdown-item" href="favorite.html?gender=girl&type=top">TOP</a></li>
            <li><hr class="dropdown-divider"></li>
            <li><a class="dropdown-item" href="favorite.html?gender=girl&type=bottom">BOTTOM</a></li>
            <li><hr class="dropdown-divider"></li>
            <li><a class="dropdown-item" href="favorite.html?gender=girl&type=set">SETS</a></li>
          </ul>
          </li>
        </ul>  
      </div>
      <div class="dropdown">
        <a class="nav-link dropdown-toggle sort" href="#" role="button" data-bs-toggle="dropdown" aria-expanded="false" id="nav-item" >
          SORT BY
        </a>
        <ul class="dropdown-menu sort">
          <li><button class="dropdown-item" onclick="sortName(ascending='true')">ALPHABETICALLY, A - Z</button></li>
          <li><hr class="dropdown-divider"></li>
          <li><button class="dropdown-item" onclick="sortName(ascending='false')">ALPHABETICALLY, Z - A</button></li>
          <li><hr class="dropdown-divider"></li>
          <li><button class="dropdown-item" onclick="sortPrice(ascending='true')">PRICE, LOW - HIGH</button></li>
          <li><hr class="dropdown-divider"></li>
          <li><button class="dropdown-item" onclick="sortPrice(ascending='false')">PRICE, HIGH - LOW</button></li>
        </ul>
      </div> 
      <div class="dropdown">
        <a class="nav-link dropdown-toggle sort" href="#" role="button" data-bs-toggle="dropdown" aria-expanded="false" id="nav-item" >
          STATUS
        </a>
        <ul class="dropdown-menu sort">
            <li><button class="dropdown-item" onclick="showAll()">ALL</button></li>
          <li><hr class="dropdown-divider"></li>
          <li><button class="dropdown-item" onclick="filterAvail(available='available')">AVAILABLE</button></li>
          <li><hr class="dropdown-divider"></li>
          <li><button class="dropdown-item" onclick="filterAvail(available='not-available')">NOT AVAILABLE</button></li>
        </ul>
      </div>   
      </div>
  </div>
        <div class="col items">
        </div>
      </div>
    </div>

    <footer class="footer">
      <section class="">
        <!--Grid row-->
        <div class="row">
  
  
          <!--Grid column-->
          <div class="col">
            <h1 class="footer-brand">by.petite</h1>
          </div>
          <!--Grid column-->
          
          <div class="col-2">
            <div style="margin : 20px 0px;">
              <h5 class="title-footer">Menu</h5>
  
              <ul class="list-unstyled mb-0">
                <li>
                  <a href="index.html" class="text-footer">Home</a>
                </li>
                <li>
                  <a href="store.html" class="text-footer">Products</a>  
                </li>
              </ul>
            </div>
            
            <div style="margin : 20px 0px;">
            <h5 class="title-footer">Info</h5>
  
            <ul class="list-unstyled mb-0">
              <li>
                <a href="favorite.html" class="text-footer">Favorites</a>
              </li>
              <li>
                <a href="aboutus.html" class="text-footer">About Us</a>
              </li>
  
              <li>
                <a href="contactus.html" class="text-footer">Contact Us</a>
              </li>
            </ul>
            </div>
          </div>
          <div class="col">
            <div style="padding : 30px;">
              <h5 class="title-footer">Become by.petite's friend</h5>
              <p class="color-1" style="font-size : 15px">Subscribe to become by.petite's friend and be updated on new collections</p>
              <input class="color-1" type="text" value="Enter your email">
            
            </div>        
          </div>
          <div class="col-3">
            <div style="padding : 30px;">
              <h5 class="title-footer">Ask Us at</h5>
              <div class="ask-us-at">
                  <p class="color-1"><img src="assets\img\phone.png" alt=""> +62 123 456 789</p>
                  <p class="color-1"><img src="assets\img\mail.png" alt=""> by.petite@mail.com</p>
                    <a href="#!" class="sos-med"><img src="assets\img\facebook.png" alt=""></a>
                    <a href="#!" class="sos-med"><img src="assets\img\instagram.png" alt=""></a>
                    <a href="#!" class="sos-med"><img src="assets\img\whatsapp.png" alt=""></a>           
              </div>            
            </div>        
          </div>
        </div>
      </section>
    </div>
  </footer>
  
    <script>
    const element = document.getElementsByClassName("items");
      element[0].innerHTML = '';  

      var qs = window.location.search;
      var ur = new URLSearchParams(qs);
      var gender = ur.get('gender');
      var type = ur.get('type');
      if(!type){
        type = 'none';
      }
      
      if(!gender){
        gender = 'none';
      }

    function showAll(){ 

      let j = 1   
      const row = document.createElement("div");
      row.classList.add("row");

      for(let i = 0; i < avail.length; i++){
        if((avail[i].gender == gender || gender =='none') && (avail[i].type == type || type == 'none')){ 
          const col = document.createElement("div");
          col.classList.add("col-sm-auto");
          const link = document.createElement("a");
          const box = document.createElement("div");
          box.classList.add("box");
          const img = document.createElement("div");
          box.classList.add("img-container");
          const image = document.createElement("img");
          image.src = avail[i].link;
          const desc = document.createElement("div");
          desc.classList.add("desc");
          const name_container = document.createElement("div");
          desc.classList.add("name-container");
          const name = document.createElement("p");
          const nametext = document.createTextNode(avail[i].name);
          name.appendChild(nametext);
          name.classList.add("item-name");
          const price = document.createElement("p");
          const pricetext = document.createTextNode(avail[i].price);
          price.appendChild(pricetext);
          price.classList.add("item-price");
          name_container.appendChild(name);
          desc.appendChild(name_container);
          desc.appendChild(price);
          img.appendChild(image);
          box.classList.add("avail");
          box.append(img, desc);
          link.appendChild(box);
          link.setAttribute("href", "details.html?id="+avail[i].id);          
          link.setAttribute("style", "color: black");
          col.appendChild(link);
          row.appendChild(col);

          const element = document.getElementsByClassName("items");
          element[0].appendChild(row);


          j += 1;

        if(i == avail.length - 1){
          const element = document.getElementsByClassName("items");
          element[0].appendChild(row);
        }
        }
      }
    }

    showAll();
      
    function sortName(ascending){

      const element = document.getElementsByClassName("items");
      element[0].innerHTML = '';

      if(ascending == 'true'){
        avail.sort(function (a, b) {
        if (a.name < b.name) {
          return -1;
        }
        if (a.name > b.name) {
          return 1;
        }
        return 0;
        });
      }

      else{
        avail.sort(function (a, b) {
        if (a.name < b.name) {
          return 1;
        }
        if (a.name > b.name) {
          return -1;
        }
        return 0;
        });
      }
      
      console.log(avail);

      let j = 1
      
      const row = document.createElement("div");
      row.classList.add("row");

      container = avail;

      for(let i = 0; i < avail.length; i++){
        if(avail[i].gender == gender && (avail[i].type == type || type == 'none')){     
          const col = document.createElement("div");
          col.classList.add("col-sm-auto");
          const link = document.createElement("a");
          const box = document.createElement("div");
          box.classList.add("box");
          const img = document.createElement("div");
          box.classList.add("img-container");
          const image = document.createElement("img");
          image.src = avail[i].link;
          const desc = document.createElement("div");
          desc.classList.add("desc");
          const name_container = document.createElement("div");
          desc.classList.add("name-container");
          const name = document.createElement("p");
          const nametext = document.createTextNode(avail[i].name);
          name.appendChild(nametext);
          name.classList.add("item-name");
          const price = document.createElement("p");
          const pricetext = document.createTextNode(avail[i].price);
          price.appendChild(pricetext);
          price.classList.add("item-price");
          name_container.appendChild(name);
          desc.appendChild(name_container);
          desc.appendChild(price);
          img.appendChild(image);
          box.append(img, desc);
          link.appendChild(box);
          link.setAttribute("href", "details.html?id="+avail[i].id);
          link.setAttribute("style", "color: black");
          col.appendChild(link);
          row.appendChild(col);


          if(j % 4 == 0){
            const element = document.getElementsByClassName("items");
            element[0].appendChild(row);
          }

          j += 1;
        }

        if(i == avail.length - 1){
          const element = document.getElementsByClassName("items");
          element[0].appendChild(row);
        }
    }
    }

    function sortPrice(ascending){
      const element = document.getElementsByClassName("items");
      element[0].innerHTML = '';

      if(ascending == 'true'){
        avail.sort(function (a, b) {
        if (a.price < b.price) {
          return -1;
        }
        if (a.price > b.price) {
          return 1;
        }
        return 0;
        });
      }

      else{
        avail.sort(function (a, b) {
        if (a.price < b.price) {
          return 1;
        }
        if (a.price > b.price) {
          return -1;
        }
        return 0;
        });
      }

      console.log(avail);

      let j = 1

      const row = document.createElement("div");
      row.classList.add("row");

      container = avail;

      for(let i = 0; i < 10; i++){
        if(avail[i].gender == gender && (avail[i].type == type || type == 'none')){     
          const col = document.createElement("div");
          col.classList.add("col-sm-auto");
          const link = document.createElement("a");
          const box = document.createElement("div");
          box.classList.add("box");
          const img = document.createElement("div");
          box.classList.add("img-container");
          const image = document.createElement("img");
          image.src = avail[i].link;
          const desc = document.createElement("div");
          desc.classList.add("desc");
          const name_container = document.createElement("div");
          desc.classList.add("name-container");
          const name = document.createElement("p");
          const nametext = document.createTextNode(avail[i].name);
          name.appendChild(nametext);
          name.classList.add("item-name");
          const price = document.createElement("p");
          const pricetext = document.createTextNode(avail[i].price);
          price.appendChild(pricetext);
          price.classList.add("item-price");
          name_container.appendChild(name);
          desc.appendChild(name_container);
          desc.appendChild(price);
          img.appendChild(image);
          box.append(img, desc);
          link.appendChild(box);
          link.setAttribute("href", "details.html?id="+avail[i].id);
          link.setAttribute("style", "color: black");
          col.appendChild(link);
          row.appendChild(col);

          if(j % 4 == 0){
            const element = document.getElementsByClassName("items");
            element[0].appendChild(row);
          }

          j += 1;
        }

        if(i == avail.length - 1){
          const element = document.getElementsByClassName("items");
          element[0].appendChild(row);
        }
}
}

function filterAvail(available){
      const element = document.getElementsByClassName("items");
      element[0].innerHTML = '';

      let j = 1
      
      const row = document.createElement("div");
      row.classList.add("row");
      
    if(available == 'available'){
        for(let i = 0; i < avail.length; i++){
        if(avail[i].avail == 'true'){     
          const col = document.createElement("div");
          col.classList.add("col-sm-auto");
          const link = document.createElement("a");
          const box = document.createElement("div");
          box.classList.add("box");
          const img = document.createElement("div");
          box.classList.add("img-container");
          const image = document.createElement("img");
          image.src = avail[i].link;
          const desc = document.createElement("div");
          desc.classList.add("desc");
          const name_container = document.createElement("div");
          desc.classList.add("name-container");
          const name = document.createElement("p");
          const nametext = document.createTextNode(avail[i].name);
          name.appendChild(nametext);
          name.classList.add("item-name");
          const price = document.createElement("p");
          const pricetext = document.createTextNode(avail[i].price);
          price.appendChild(pricetext);
          price.classList.add("item-price");
          name_container.appendChild(name);
          desc.appendChild(name_container);
          desc.appendChild(price);
          img.appendChild(image);
          box.append(img, desc);
          link.appendChild(box);
          link.setAttribute("href", "details.html?id="+avail[i].id);
          link.setAttribute("style", "color: black");
          col.appendChild(link);
          row.appendChild(col);

          if(j % 4 == 0){
            const element = document.getElementsByClassName("items");
            element[0].appendChild(row);
          }

          j += 1;
        }

        if(i == avail.length - 1){
          const element = document.getElementsByClassName("items");
          element[0].appendChild(row);
        }
    }
    }

    else{
        for(let i = 0; i < avail.length; i++){
        if(avail[i].avail == 'false'){     
          const col = document.createElement("div");
          col.classList.add("col-sm-auto");
          const link = document.createElement("a");
          const box = document.createElement("div");
          box.classList.add("box");
          const img = document.createElement("div");
          box.classList.add("img-container");
          const image = document.createElement("img");
          image.src = avail[i].link;
          const desc = document.createElement("div");
          desc.classList.add("desc");
          const name_container = document.createElement("div");
          desc.classList.add("name-container");
          const name = document.createElement("p");
          const nametext = document.createTextNode(avail[i].name);
          name.appendChild(nametext);
          name.classList.add("item-name");
          const price = document.createElement("p");
          const pricetext = document.createTextNode(avail[i].price);
          price.appendChild(pricetext);
          price.classList.add("item-price");
          name_container.appendChild(name);
          desc.appendChild(name_container);
          desc.appendChild(price);
          img.appendChild(image);
          box.append(img, desc);
          link.appendChild(box);
          link.setAttribute("href", "details.html?id="+avail[i].id);
          link.setAttribute("style", "color: black");
          col.appendChild(link);
          row.appendChild(col);

          if(j % 4 == 0){
            const element = document.getElementsByClassName("items");
            element[0].appendChild(row);
          }

          j += 1;
        }

        if(i == avail.length - 1){
          const element = document.getElementsByClassName("items");
          element[0].appendChild(row);
        }
    }
    }
}
    </script>
</body>
</html>